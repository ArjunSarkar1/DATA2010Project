---
title: "DATA 2010: Group Project"
subtitle: "Full Written Report"
author: "Arjun Sarkar, Sachin Bhatt, Sahil Sharma, Gustavo Nunez"
date: "April 4th 2025"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# 1. Introduction

As a group we collectively decided to focus on the **Travel Reviews** dataset from the UCI Machine Learning Repository for our term project.

# 2. Tentative Analysis Questions

Here are the following questions we will be answering in our analysis.

- Is it possible to determine distinct traveler preference groups by looking at how they rate various travel categories?

- Are there various traveler groups who share similar preferences?

- Which traveler preferences are most common across all travel categories?


# 3. Dataset Selection

It essentially consists of many reviews of East Asian places in 10 categories which are in this collection. Each entry contains the average rating for each category of a place. Our goal is to derive valuable insights from the dataset by analyzing it using statistical methods and data visualization.

## 3.1 Dataset Context

```{r}
# Loading dataset
library(tidyverse)
travel_reviews <- read.csv("tripadvisor_review.csv")
travel_reviews = travel_reviews %>% rename(art_galleries = Category.1, dance_clubs = Category.2, juice_bars = Category.3, restaurants = Category.4, museums = Category.5, resorts = Category.6, parks_picnic_spots = Category.7, beaches = Category.8, theaters = Category.9, religious_institutions = Category.10)
head(travel_reviews)
```

The dataset contains 10 Features(excluding **User ID**) and 980 instances. Also, it is important to note that this dataset supports classification and clustering tasks.

The 10 different types of travel destinations the travelers gave ratings on are **Art Galleries, Dance Clubs, Juice Bars, Restaurants, Museums, Resorts, Parks/Picnic Spots, Beaches, Theaters, and Religious Institutions**

The following is a mapping of each traveler rating: 

- Excellent (4), Very Good (3), Average (2), Poor (1), Terrible (0)

# 4. Cleaning Up Dataset

```{r}
# Checking for missing values!
sum(is.na(travel_reviews))  # Should return 0 if no missing values
```

# 5. Data Summarization/Aggregation

```{r}
#Visual representation of the five number summary
boxplot(travel_reviews[, -1],
        main = "Boxplots of Travel Review Ratings",
        xlab = "Categories",
        col = c("#E6194B", "#3CB44B", "#FF8C00", "#008000", "#911EB4", 
                "#46F0F0", "#F032E6", "#FFD700", "#008080", "#A9A9A9"),
        cex.axis = 0.4)

#Calculate summary statistics
means = travel_reviews %>% summarise(across(-1, mean)) 
medians = travel_reviews %>% summarise(across(-1, median))
sds = travel_reviews %>% summarise(across(-1, sd))
iqrs = travel_reviews %>% summarise(across(-1, IQR))

# Add row names
means <- means %>% mutate(statistic = "Mean")
medians <- medians %>% mutate(statistic = "Median")
sds <- sds %>% mutate(statistic = "Standard Deviation")
iqrs <- iqrs %>% mutate(statistic = "IQR")

#Make dataset with all the statistics of each category
summary_stats <- bind_rows(means, medians, sds, iqrs)
summary_stats <- summary_stats %>% select(statistic, everything())
summary_stats


#Identifying outliers#

#Outliers for art galleries
q1 = quantile(travel_reviews$art_galleries, 0.25)
q3 = quantile(travel_reviews$art_galleries, 0.75)
iqr = pull(summary_stats %>% 
  filter(statistic == "IQR") %>% 
  select(art_galleries)) 
lb = q1 - (iqr * 1.5)
ub = q3 + (iqr * 1.5)

art_galleries_vec = travel_reviews %>% pull(art_galleries)
low_outliers_art_galleries = art_galleries_vec[art_galleries_vec < lb]
high_outliers_art_galleries = art_galleries_vec[art_galleries_vec > ub]
#Low outliers for art galleries
low_outliers_art_galleries
#High outliers for art galleries
high_outliers_art_galleries

```

# 6. Data Visualization

```{r}
# Load libraries
library(tidyr)
library(ggplot2)
library(corrplot)
library(dplyr)
library(factoextra)  # For clustering visualization
library(cluster)  

# Convert data into long format for ggplot

long_data <- pivot_longer(travel_reviews, cols = -User.ID, names_to = "Category", values_to = "Rating")

# Bar plot for each category
ggplot(long_data, aes(x = Rating, fill = Category)) +
  geom_bar(position = "dodge") +
  labs(title = "Distribution of Ratings for Each Category", x = "Rating", y = "Count") +
  theme_minimal()

# Boxplots - Comparing Ratings Across Categories
ggplot(long_data, aes(x = Category, y = Rating, fill = Category)) +
  geom_boxplot() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  labs(title = "Boxplot of Ratings Across Travel Categories")
```

# 7. Correlation Analysis

```{r}
# Compute correlation matrix (excluding User ID)
cor_matrix <- cor(travel_reviews[, -1])

# Display correlation heatmap
corrplot(cor_matrix, method = "color", type = "lower", tl.cex = 0.8)
```

# 8. Cluster Analysis

```{r}
# Compute within-cluster sum of squares (Elbow Method)
set.seed(123)
fviz_nbclust(travel_reviews[, -1], kmeans, method = "wss") +
  labs(title = "Elbow Method for Optimal Clusters")

# Applying K-Means Clustering
set.seed(123)
kmeans_result <- kmeans(travel_reviews[, -1], centers = 3, nstart = 25)  # Adjust centers as needed

# Add cluster labels to dataset
travel_reviews$Cluster <- as.factor(kmeans_result$cluster)

# Visualize clusters using PCA
# Select only numeric columns (excluding User ID and Cluster)
numeric_data <- travel_reviews[, -c(1, ncol(travel_reviews))]  # Removes User ID and Cluster

# Visualize clusters using PCA
fviz_cluster(kmeans_result, data = numeric_data, geom = "point", ellipse.type = "convex") +
  labs(title = "K-Means Clustering of Traveler Preferences")

```

# 9. Key Findings

# 10. Appendix: Full R Code

# 11. Source

Dataset Link: https://archive.ics.uci.edu/dataset/484/travel+reviews

